🕒 Timeblocks - 스마트 조교 스케줄링 시스템

📍 프로젝트 소개

📅 프로젝트 개요

학원이나 교육 기관의 복잡한 조교(TA) 시간표 배정 문제를 해결하기 위한 웹 애플리케이션입니다.
현재 조교로 다니고 있는 학원의 선생님께서 10명이 넘는 조교들의 가능한 시간을 한 번에 취합하여 무슨 요일 무슨 시간에 어떤 조교를 배정할 지 하나하나 확인하시면서 수업을 배정하는 것이 시간이 많이 들고 힘들다는 이야기를 듣고 이 프로젝트를 진행하게 되었습니다.


수십 개의 수업과 다수의 조교 정보를 관리하며, 제약 조건(시간 중복, 연강 제한 등)을 고려하여 최적의 시간표를 자동으로 완성하는 것이 목표입니다.

총 두 가지 배정 모드를 지원합니다.

👤 수동 배정 모드: 관리자가 직접 체크박스를 통해 배정하며, 시스템이 실시간으로 규칙 위반을 감지합니다.

🤖 자동 배정 모드: 알고리즘이 빈칸을 분석하여 공정하고 효율적으로 스케줄을 자동 완성합니다.

🖼️ 실행 화면

메인 시간표 화면

조교 관리 및 현황판

(스크린샷 1: 시간표 그리드와 체크박스 화면)

(스크린샷 2: 하단 대시보드 및 조교 추가 폼)

🕹️ 주요 기능 및 규칙

1. 배정 규칙 (Constraints)

시스템은 다음 규칙을 엄격하게(또는 유연하게) 적용하여 배정을 관리합니다.

인원 제한: 각 수업당 최대 2명의 조교만 배정 가능합니다. (필수 인원 미달 시 자동 배정 우선순위)

중복 불가: 한 조교가 동일한 시간대의 다른 수업에 중복 배정될 수 없습니다. (UI에서 자동 비활성화 처리)

연강 제한: 조교의 체력 보호를 위해 **3타임 연속 근무(3연강)**는 불가능합니다. (최대 2연강 허용)

근무 가능 시간: 조교가 사전에 등록한 요일 및 시간 범위 내의 수업에만 배정됩니다.

2. 🤖 스마트 자동 배정 (Auto-Assign)

버튼 클릭 한 번으로 다음 알고리즘에 따라 배정을 수행합니다.

1단계 (급한 불 끄기): 지원자가 1명뿐이거나 부족한 '위험 시간대'를 우선적으로 채워 펑크를 방지합니다.

2단계 (균형 배정): 여유 있는 시간대는 현재 근무 횟수가 적은 조교부터 우선 배정하여 업무 과중을 방지합니다. (인당 최대 4타임 권장)

3. 📊 관리자 대시보드

실시간 현황판: 조교별 배정 횟수를 집계하여 상태를 표시합니다. (💤대기 / ✅적정 / 🔥과로)

데이터 관리 (CRUD): 수업 시간표와 조교 정보를 자유롭게 추가, 수정, 삭제할 수 있습니다.

강제 배정: 예외 상황 발생 시, 규칙을 무시하고 특정 조교를 투입할 수 있는 '슈퍼 관리자' 기능을 제공합니다.

💻 실행 방법

Node.js 환경이 설치되어 있어야 합니다.

프로젝트 클론

```bash
git clone https://github.com/kangjc912/timetable.git
cd timetable
```


백엔드(Server) 실행
```bash
cd server
npm install
npm start
# ✅ Server running at http://localhost:5000
```

프론트엔드(Client) 실행 (새 터미널)

```bash
cd client
npm install
npm start
# ✅ Client running at http://localhost:3000
```



🛠 기술 스택

Language: JavaScript (ES6+)

Frontend: React.js, CSS3 (Flexbox/Grid, Card UI)

Backend: Node.js, Express.js

Database: JSON File System (fs module 기반의 영구 저장소)

HTTP Client: Axios

🚀 기능 구현 목록

🖥️ 메인 UI

[x] 시간대별로 수업을 그룹화하여 가로로 정렬하는 Masonry-like 레이아웃 구현

[x] 카드(Card) 디자인 및 반응형 Hover 효과 적용

[x] 스크롤 없는 깔끔한 Viewport 구성

👤 조교 관리 (TA Management)

[x] 조교 이름, 연락처, 근무 가능 요일 및 시간 범위 설정 기능

[x] 조교 목록 조회 및 개별/일괄 삭제 기능

[x] 근무 가능 시간에 기반한 수업 자동 매칭 시스템

📅 시간표 관리 (Timetable Management)

[x] 수업 추가(요일, 시간, 선생님 자동완성) 기능

[x] 수업 개별 삭제 및 일괄 초기화(Reset) 기능

[x] 데이터 변경 시 JSON 파일에 즉시 반영 (서버 재시작 없이 유지)

🧠 핵심 로직 (Logic)

[x] 중복 방지: checkOverlap 함수를 통해 겹치는 시간대의 체크박스 disabled 처리

[x] 3연강 방지: checkConsecutive 함수를 통해 앞뒤 시간표를 분석하여 연속 근무 제한

[x] 자동 배정 알고리즘:

후보자 수에 따른 우선순위 정렬 (Greedy approach)

업무 로드 밸런싱 (Load Balancing) 적용

🔥 핵심 구현 내용 상세

1. JSON 기반의 데이터 영구 저장

별도의 DB 설치 없이도 데이터가 유지되도록 Node.js의 fs 모듈을 활용하여 server/src/models/*.json 파일에 데이터를 읽고 쓰는 독자적인 DB 시스템을 구축했습니다.

2. 2-Pass 자동 배정 알고리즘

단순 순차 배정이 아닌, **'희소성'**과 **'공정성'**을 모두 잡기 위해 두 단계로 나누어 배정합니다.

Pass 1: 후보가 필수 인원(Required TAs) 이하인 수업을 찾아 무조건 배정합니다. (펑크 방지)

Pass 2: 남은 수업에 대해 '현재 근무 횟수'가 가장 적은 조교를 찾아 배정하되, 최대 근무 제한(4회)을 둡니다.

3. 스마트 UI/UX

시간 입력의 유연성: 조교 등록 시 일일이 수업을 선택하는 대신, "월요일 19:00~22:00 가능"과 같이 범위를 입력하면 시스템이 해당 시간대 수업 ID를 자동으로 추출하여 매핑합니다.

직관적인 피드백: 배정 시 실시간으로 하단 대시보드의 상태 배지(Badge) 색상이 변경되어 관리자가 업무 강도를 즉시 파악할 수 있습니다.

📂 프로젝트 구조

```bash
Timeblocks/
 ├─ client/                 # React Frontend
 │   ├─ src/
 │   │   ├─ components/     # Timetable, Dashboard 등 UI 컴포넌트
 │   │   ├─ App.js          # 메인 로직 (자동 배정 알고리즘 포함)
 │   │   └─ App.css         # 스타일시트
 ├─ server/                 # Node.js Backend
 │   ├─ src/
 │   │   ├─ api/routes/     # REST API 라우터 (schedule, ta, assignments)
 │   │   ├─ models/         # JSON 데이터 파일 (DB 역할)
 │   │   └─ server.js       # 서버 진입점
 └─ README.md
```
